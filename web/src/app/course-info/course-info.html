<a [queryParams]="{ step: 3 }" class="back-link" routerLink="/questionnaire">
  ← Back to Course Selection
</a>

<section class="heading">
  <h1 class="page-title">Computer Science Required Courses — Spring 2026</h1>
  <p class="page-subtitle">
    A complete overview of the required CS courses offered at Saint Louis University for the Spring 2026 semester,
    including meeting times, locations, descriptions, and instructor ratings.
  </p>
</section>

<section class="course-grid">
  <article *ngFor="let c of courses(); let i = index" class="course-card">
    <header class="card-head">
      <h2 class="title">{{ c.code }} — {{ c.title }}</h2>
      <span class="credit-pill">{{ c.credits }} credit{{ c.credits === 1 ? '' : 's' }}</span>
    </header>

    <div *ngIf="c.meetingTimes || c.location" class="meta">
      <div *ngIf="c.meetingTimes"><strong>Times:</strong> {{ c.meetingTimes }}</div>
      <div *ngIf="c.location"><strong>Location:</strong> {{ c.location }}</div>
    </div>

    <div class="actions">
      <button (click)="toggleDesc(i)" class="btn-outline">
        {{ c.expandedDesc ? 'Hide description' : 'Course description' }}
      </button>

      <button (click)="toggleInstructors(i)" class="btn-outline">
        {{ c.expandedInstructors ? 'Hide instructors' : 'Instructor list' }}
      </button>
    </div>

    <!-- Course description -->
    <section *ngIf="c.expandedDesc" class="details">
      <div *ngIf="c.description">
        <h3 class="section-title">Description</h3>
        <p class="para">{{ c.description }}</p>
      </div>

      <div *ngIf="c.prerequisites">
        <h3 class="section-title">Prerequisites</h3>
        <p class="mono">{{ c.prerequisites }}</p>
      </div>

      <div *ngIf="c.attributes">
        <h3 class="section-title">Attributes</h3>
        <p class="para">{{ c.attributes }}</p>
      </div>
    </section>

    <!-- Instructor list with ratings -->
    <section *ngIf="c.expandedInstructors" class="details">
      <div *ngFor="let inst of c.instructors || []" class="instructor-row">
        <div class="inst-main">
          <p class="inst-name">{{ inst.name }}</p>
          <p *ngIf="inst.email" class="inst-line">{{ inst.email }}</p>
          <p *ngIf="inst.office" class="inst-line">{{ inst.office }}</p>
        </div>

        <div *ngIf="inst.rating" class="inst-rating">
          <div><strong>Overall Rating:</strong> {{ inst.rating.overall }}/5</div>
          <div><strong>Rating Numbers:</strong> {{ inst.rating.numRatings }}</div>
          <a *ngIf="inst.rating.rmpUrl" [href]="inst.rating.rmpUrl" class="rmp-link" rel="noopener" target="_blank">
            See reviews
          </a>
        </div>
      </div>

      <p *ngIf="!c.instructors || c.instructors.length === 0" class="muted">Instructor TBA</p>
    </section>
  </article>
</section>

<div class="page-shell">
  <!-- optional page title/subtitle -->
  <main class="page-main">
    <!-- your existing course grid / content goes here -->
  </main>

  <!-- footer block pasted here -->
  <footer class="w-full bg-black/20 border-t border-white/20 flex-shrink-0">
    <div class="max-w-6xl mx-auto px-8 py-6">
      <div class="text-center">
        <p class="text-blue-200 font-inter text-base">
          Made by the Billiken Blueprint Team for Saint Louis University Billikens
        </p>
        <p class="text-blue-300 text-sm mt-2 font-inter">
          © 2025 Billiken Blueprint. Helping students succeed, one schedule at a time.
        </p>
      </div>
    </div>
  </footer>
</div>
